@tailwind base;
@tailwind components;
@tailwind utilities;

/* Performance: Critical above-the-fold CSS */
@layer base {
  html { font-display: swap; }
  body { font-synthesis: none; text-rendering: optimizeSpeed; }
}

/* Optimize unused utility classes */
@layer utilities {
  .performance-optimized {
    contain: layout style paint;
    content-visibility: auto;
  }
}

/* Root variables */
:root {
  --background: #ffffff;
  --foreground: #171717;
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

body {
  color: var(--foreground);
  background: var(--background);
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }
}

/* WCAG AA Compliant Color Classes - High Contrast */
@layer utilities {
  /* Text colors with proper contrast ratios */
  .text-high-contrast-gray {
    @apply text-gray-800; /* Much darker for better contrast */
  }
  
  .text-high-contrast-muted {
    @apply text-gray-700; /* Darker muted text */
  }
  
  /* Badge backgrounds with proper contrast */
  .badge-discount {
    @apply bg-red-700 text-white; /* Darker red for better contrast */
  }
  
  .badge-success {
    @apply bg-green-700 text-white; /* Darker green */
  }
  
  .badge-warning {
    @apply bg-yellow-600 text-gray-900; /* Dark text on yellow */
  }
  
  /* Price colors */
  .price-old {
    @apply text-gray-700 line-through; /* Much darker for strikethrough text */
  }
  
  .price-current {
    @apply text-gray-900 font-bold; /* Maximum contrast */
  }
}

/* Custom animations */
@keyframes pulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: .5;
  }
}

/* Navbar styles */
.nav-link {
  @apply text-gray-800 font-medium hover:text-purple-700 transition-colors duration-200 px-3 py-2 rounded-lg hover:bg-purple-50;
}

/* Admin link styles */
.admin-link {
  @apply flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-all;
}

.admin-link-site {
  @apply bg-gradient-to-r from-amber-50 to-orange-50 text-amber-800 hover:from-amber-100 hover:to-orange-100 border border-amber-200;
}

.admin-link-business {
  @apply bg-gradient-to-r from-green-50 to-emerald-50 text-green-800 hover:from-green-100 hover:to-emerald-100 border border-green-200;
}

/* Mobile menu styles */
.mobile-nav-item {
  @apply block px-4 py-3 text-gray-800 font-medium hover:bg-gray-50 rounded-lg transition-colors;
}

/* Modern button styles */
.btn-primary {
  @apply px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold rounded-xl hover:from-purple-700 hover:to-pink-700 transition-all duration-300 transform hover:scale-105 shadow-lg;
}

.btn-secondary {
  @apply px-6 py-3 bg-gradient-to-r from-gray-50 to-gray-100 text-gray-800 font-semibold rounded-xl hover:from-gray-100 hover:to-gray-200 transition-all duration-300 border border-gray-200;
}

/* Form styles */
.form-input {
  @apply w-full px-4 py-3 rounded-xl border border-gray-300 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200;
}

.form-label {
  @apply block text-sm font-medium text-gray-800 mb-2;
}

/* Card styles */
.product-card {
  @apply bg-white rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 overflow-hidden;
}

/* Badge styles */
.badge {
  @apply inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold;
}

.badge-red {
  @apply bg-red-100 text-red-800;
}

.badge-green {
  @apply bg-green-100 text-green-800;
}

.badge-blue {
  @apply bg-blue-100 text-blue-800;
}

/* Mobile safe areas */
.mobile-safe-top {
  padding-top: env(safe-area-inset-top);
}

.mobile-safe-bottom {
  padding-bottom: env(safe-area-inset-bottom);
}

/* Touch optimizations */
.touch-manipulation {
  touch-action: manipulation;
}

/* Smooth scrolling */
html {
  scroll-behavior: smooth;
}

/* Focus styles for accessibility */
*:focus-visible {
  @apply outline-2 outline-offset-2 outline-purple-600;
}

/* Skip to content link */
.skip-to-content {
  @apply absolute left-0 top-0 bg-purple-700 text-white px-4 py-2 transform -translate-y-full focus:translate-y-0 transition-transform duration-200;
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  .nav-link {
    @apply text-black hover:text-purple-900;
  }
  
  .text-muted {
    @apply text-gray-900;
  }
  
  .badge-discount {
    @apply bg-black text-white;
  }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* Print styles */
@media print {
  .no-print {
    @apply hidden;
  }
  
  body {
    @apply text-black bg-white;
  }
}
